<div {{ attributes }}>
    {{ form_start(form) }}
    {{ dump(form) }}

    <div id="credit-card-forms" class="mb-4">
        {% for key, creditCardForm in form.creditCards %}
            <div class="credit-card-form mb-3 p-3 border rounded shadow-sm">
                <div class="mb-3">
                    {{ form_label(creditCardForm.number, 'credit_card_form.number'|trans, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(creditCardForm.number, {'attr': {'class': 'form-control'}}) }}
                    <div class="text-danger mt-2">
                        {{ form_errors(creditCardForm.number) }}
                    </div>
                </div>
                <div class="mb-3">
                    {{ form_label(creditCardForm.expirationDate, 'credit_card_form.expiration_date'|trans, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(creditCardForm.expirationDate, {'attr': {'class': 'form-control'}}) }}
                    <div class="text-danger mt-2">
                        {{ form_errors(creditCardForm.expirationDate) }}
                    </div>
                </div>
                <div class="mb-3">
                    {{ form_label(creditCardForm.cvv, 'credit_card_form.cvv'|trans, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(creditCardForm.cvv, {'attr': {'class': 'form-control'}}) }}
                    <div class="text-danger mt-2">
                        {{ form_errors(creditCardForm.cvv) }}
                    </div>
                </div>
                <button class="btn btn-danger btn-sm mt-2" data-action="live#action" data-live-action-param=" eCreditCard" data-live-index-param="{{ key }}" type="button">
                    {{ 'credit_card_form.remove'|trans }}
                </button>
            </div>
        {% endfor %}
    </div>

    <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-secondary btn-sm" data-action="live#action" data-live-action-param="addCreditCard" type="button">
            {{ 'credit_card_form.add'|trans }}
        </button>
        <button data-action="live#action" data-live-action-param="save" type="button" class="btn btn-primary mt-3">
            {{ 'credit_card_form.submit'|trans }}
        </button>
    </div>
    {{ form_end(form) }}
</div>